(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{"k+ul":function(e,i,n){"use strict";n.r(i),n.d(i,"Tab3PageModule",function(){return g});var s=n("ofXK"),o=n("3Pt+"),t=n("tyNb"),r=n("TEn/"),c=n("j1ZV"),b=n("mrSG"),a=n("quSY"),l=n("fXoL"),d=n("n90K"),u=n("sUQ5"),h=n("3HUv");function v(e,i){if(1&e&&(l.Mb(0,"div"),l.Mb(1,"ion-grid"),l.Mb(2,"ion-row"),l.Mb(3,"ion-col"),l.Mb(4,"h4"),l.lc(5),l.Lb(),l.Lb(),l.Lb(),l.Kb(6,"app-slideshow-poster",3),l.Lb(),l.Lb()),2&e){const e=i.$implicit;l.zb(5),l.mc(e.genre),l.zb(1),l.cc("movies",e.movies)}}let f=(()=>{class e{constructor(e,i){this._storage=e,this._movie=i,this.movies=[],this.genres=[],this.moviesByGenre=[]}ngOnDestroy(){}ngOnInit(){}ionViewWillEnter(){this._subscription=new a.a,this.loadGenres()}ionViewDidLeave(){this._subscription.unsubscribe()}loadGenres(){this._subscription.add(this._movie.loadGenres().subscribe(e=>Object(b.a)(this,void 0,void 0,function*(){yield this.loadFavorites(),this.genres=e.genres,this.buildMoviesByGenre(this.genres,this.movies)})))}loadFavorites(){return Object(b.a)(this,void 0,void 0,function*(){const e=yield this._storage.get("favorites");e&&(this.movies=e)})}buildMoviesByGenre(e,i){this.moviesByGenre=e.map(e=>({genre:e.name,movies:i.filter(i=>i.genres.find(i=>i.id===e.id))})).filter(e=>e.movies.length>0)}}return e.\u0275fac=function(i){return new(i||e)(l.Jb(d.a),l.Jb(u.a))},e.\u0275cmp=l.Db({type:e,selectors:[["app-tab3"]],decls:7,vars:2,consts:[[3,"fullscreen"],["fixed",""],[4,"ngFor","ngForOf"],[3,"movies"]],template:function(e,i){1&e&&(l.Mb(0,"ion-content",0),l.Mb(1,"ion-grid",1),l.Mb(2,"ion-row"),l.Mb(3,"ion-col"),l.Mb(4,"h3"),l.lc(5,"Favorites"),l.Lb(),l.Lb(),l.Lb(),l.Lb(),l.jc(6,v,7,2,"div",2),l.Lb()),2&e&&(l.cc("fullscreen",!0),l.zb(6),l.cc("ngForOf",i.moviesByGenre))},directives:[r.j,r.l,r.u,r.i,s.h,h.a],styles:[""]}),e})();const m=[{path:"",component:f}];let p=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=l.Hb({type:e}),e.\u0275inj=l.Gb({imports:[[t.i.forChild(m)],t.i]}),e})(),g=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=l.Hb({type:e}),e.\u0275inj=l.Gb({imports:[[r.E,s.b,o.a,c.a,t.i.forChild([{path:"",component:f}]),p]]}),e})()}}]);