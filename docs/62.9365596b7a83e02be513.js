(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{"k+ul":function(e,i,n){"use strict";n.r(i),n.d(i,"Tab3PageModule",function(){return g});var s=n("ofXK"),o=n("3Pt+"),t=n("tyNb"),r=n("TEn/"),c=n("j1ZV"),b=n("mrSG"),a=n("quSY"),d=n("fXoL"),l=n("n90K"),u=n("sUQ5"),h=n("3HUv");function v(e,i){if(1&e&&(d.Mb(0,"div"),d.Mb(1,"ion-grid"),d.Mb(2,"ion-row"),d.Mb(3,"ion-col"),d.Mb(4,"h4"),d.mc(5),d.Lb(),d.Lb(),d.Lb(),d.Kb(6,"app-slideshow-poster",3),d.Lb(),d.Lb()),2&e){const e=i.$implicit;d.zb(5),d.nc(e.genre),d.zb(1),d.dc("movies",e.movies)}}let m=(()=>{class e{constructor(e,i){this._storage=e,this._movie=i,this.movies=[],this.genres=[],this.moviesByGenre=[]}ngOnDestroy(){}ngOnInit(){}ionViewWillEnter(){this._subscription=new a.a,this.loadGenres()}ionViewDidLeave(){this._subscription.unsubscribe()}loadGenres(){this._subscription.add(this._movie.loadGenres().subscribe(e=>Object(b.a)(this,void 0,void 0,function*(){yield this.loadFavorites(),this.genres=e.genres,this.buildMoviesByGenre(this.genres,this.movies)})))}loadFavorites(){return Object(b.a)(this,void 0,void 0,function*(){const e=yield this._storage.get("favorites");e&&(this.movies=e)})}buildMoviesByGenre(e,i){this.moviesByGenre=e.map(e=>({genre:e.name,movies:i.filter(i=>i.genres.find(i=>i.id===e.id))})).filter(e=>e.movies.length>0)}}return e.\u0275fac=function(i){return new(i||e)(d.Jb(l.a),d.Jb(u.a))},e.\u0275cmp=d.Db({type:e,selectors:[["app-tab3"]],decls:7,vars:2,consts:[[3,"fullscreen"],["fixed",""],[4,"ngFor","ngForOf"],[3,"movies"]],template:function(e,i){1&e&&(d.Mb(0,"ion-content",0),d.Mb(1,"ion-grid",1),d.Mb(2,"ion-row"),d.Mb(3,"ion-col"),d.Mb(4,"h3"),d.mc(5,"Favorites"),d.Lb(),d.Lb(),d.Lb(),d.Lb(),d.kc(6,v,7,2,"div",2),d.Lb()),2&e&&(d.dc("fullscreen",!0),d.zb(6),d.dc("ngForOf",i.moviesByGenre))},directives:[r.j,r.l,r.u,r.i,s.h,h.a],styles:[""]}),e})();const f=[{path:"",component:m}];let p=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=d.Hb({type:e}),e.\u0275inj=d.Gb({imports:[[t.i.forChild(f)],t.i]}),e})(),g=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=d.Hb({type:e}),e.\u0275inj=d.Gb({imports:[[r.E,s.b,o.a,c.a,t.i.forChild([{path:"",component:m}]),p]]}),e})()}}]);