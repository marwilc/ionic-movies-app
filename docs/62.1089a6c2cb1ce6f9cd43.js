(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{"k+ul":function(e,i,n){"use strict";n.r(i),n.d(i,"Tab3PageModule",function(){return g});var s=n("ofXK"),o=n("3Pt+"),t=n("tyNb"),r=n("TEn/"),c=n("j1ZV"),b=n("mrSG"),a=n("quSY"),l=n("fXoL"),d=n("n90K"),u=n("sUQ5"),v=n("3HUv");function h(e,i){if(1&e&&(l.Mb(0,"div"),l.Mb(1,"ion-grid"),l.Mb(2,"ion-item",5),l.Mb(3,"h4"),l.Mb(4,"ion-label",2),l.mc(5),l.Lb(),l.Lb(),l.Lb(),l.Kb(6,"app-slideshow-poster",6),l.Lb(),l.Lb()),2&e){const e=i.$implicit;l.zb(5),l.oc(" ",e.genre," "),l.zb(1),l.dc("movies",e.movies)}}let m=(()=>{class e{constructor(e,i){this._storage=e,this._movie=i,this.movies=[],this.genres=[],this.moviesByGenre=[]}ngOnDestroy(){}ngOnInit(){}ionViewWillEnter(){this._subscription=new a.a,this.loadGenres()}ionViewDidLeave(){this._subscription.unsubscribe()}loadGenres(){this._subscription.add(this._movie.loadGenres().subscribe(e=>Object(b.a)(this,void 0,void 0,function*(){yield this.loadFavorites(),this.genres=e.genres,this.buildMoviesByGenre(this.genres,this.movies)})))}loadFavorites(){return Object(b.a)(this,void 0,void 0,function*(){const e=yield this._storage.get("favorites");e&&(this.movies=e)})}buildMoviesByGenre(e,i){this.moviesByGenre=e.map(e=>({genre:e.name,movies:i.filter(i=>i.genres.find(i=>i.id===e.id))})).filter(e=>e.movies.length>0)}}return e.\u0275fac=function(i){return new(i||e)(l.Jb(d.a),l.Jb(u.a))},e.\u0275cmp=l.Db({type:e,selectors:[["app-tab3"]],decls:7,vars:2,consts:[[3,"fullscreen"],["lines","none"],["color","primary"],["slot","end","src","/assets/favorite.svg"],[4,"ngFor","ngForOf"],["lines","none",1,"ion-bg-none"],[3,"movies"]],template:function(e,i){1&e&&(l.Mb(0,"ion-content",0),l.Mb(1,"ion-item",1),l.Mb(2,"h3"),l.Mb(3,"ion-label",2),l.mc(4," Favorites "),l.Lb(),l.Lb(),l.Kb(5,"ion-icon",3),l.Lb(),l.kc(6,h,7,2,"div",4),l.Lb()),2&e&&(l.dc("fullscreen",!0),l.zb(6),l.dc("ngForOf",i.moviesByGenre))},directives:[r.j,r.o,r.p,r.n,s.h,r.l,v.a],styles:[""]}),e})();const p=[{path:"",component:m}];let f=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=l.Hb({type:e}),e.\u0275inj=l.Gb({imports:[[t.i.forChild(p)],t.i]}),e})(),g=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=l.Hb({type:e}),e.\u0275inj=l.Gb({imports:[[r.E,s.b,o.a,c.a,t.i.forChild([{path:"",component:m}]),f]]}),e})()}}]);